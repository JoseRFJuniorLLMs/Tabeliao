# =============================================================================
# Tabeliao - AI Service
# Handles contract analysis, clause generation, risk assessment, and NLP
# =============================================================================

# -----------------------------------------------------------------------------
# Service
# -----------------------------------------------------------------------------
NODE_ENV=development
APP_PORT=3003
SERVICE_NAME=ai-service

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# Stores: prompt templates, analysis history, model usage metrics
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://tabeliao:tabeliao_dev_2026@localhost:5432/tabeliao_db
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=tabeliao
DATABASE_PASSWORD=tabeliao_dev_2026
DATABASE_NAME=tabeliao_db
DATABASE_SCHEMA=ai

# -----------------------------------------------------------------------------
# Redis (Caching)
# Used for: response caching, rate limiting per user, token budget tracking
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# RabbitMQ (Message Broker)
# Queues: ai.analyze, ai.generate, ai.review
# Consumes: contract.created (auto-analysis on new contracts)
# -----------------------------------------------------------------------------
RABBITMQ_URL=amqp://tabeliao:tabeliao_dev_2026@localhost:5672

# -----------------------------------------------------------------------------
# Anthropic Claude API
# Model: claude-sonnet-4-20250514
# Used for: contract analysis, clause generation, risk scoring,
#           legal language simplification, dispute suggestions
# Docs: https://docs.anthropic.com/
# -----------------------------------------------------------------------------
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# Rate limiting per user (requests per minute)
AI_RATE_LIMIT_RPM=20

# Max tokens per request
AI_MAX_TOKENS=4096

# Temperature for generation (0.0 = deterministic, 1.0 = creative)
AI_TEMPERATURE=0.3

# Cache TTL in seconds for identical analysis requests
AI_CACHE_TTL=3600

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=debug
